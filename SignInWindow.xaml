<Window x:Class="AuthSystemApp.SignInWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:local="clr-namespace:AuthSystemApp"
        Title="SignIn"
        WindowStartupLocation="CenterScreen"
        ResizeMode="CanResize"
        WindowStyle="SingleBorderWindow"
        Background="#001133"
        WindowState="Maximized">

    <Window.Resources>
        <local:TagToVisibilityConverter x:Key="TagToVisibilityConverter"/>
    </Window.Resources>

    <Grid>
        <Border Background="White"
                Width="500"
                Height="450"
                CornerRadius="20"
                HorizontalAlignment="Center"
                VerticalAlignment="Center"
                Padding="30">

            <StackPanel HorizontalAlignment="Center"
                        VerticalAlignment="Center"
                        Width="400">

                <!-- Heading -->
                <TextBlock Text="Sign In"
                           FontSize="30"
                           FontWeight="Bold"
                           Foreground="#001133"
                           HorizontalAlignment="Center"
                           Margin="0,10,0,30"/>

                <!-- Email -->
                <TextBlock Text="Email" FontSize="15" Margin="0,0,0,5"/>
                <TextBox x:Name="txtEmail"
                         Height="45"
                         Width="400"
                         FontSize="15"
                         VerticalContentAlignment="Center"
                         HorizontalContentAlignment="Left"
                         Padding="15,0,10,0"
                         Margin="0,0,0,20"
                         TextChanged="TxtEmail_TextChanged">
                    <TextBox.Style>
                        <Style TargetType="TextBox">
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="TextBox">
                                        <Border x:Name="border"
                                                CornerRadius="8"
                                                BorderBrush="Gray"
                                                BorderThickness="1"
                                                Background="White">
                                            <ScrollViewer x:Name="PART_ContentHost" Margin="0"/>
                                        </Border>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                        </Style>
                    </TextBox.Style>
                </TextBox>
                <TextBlock x:Name="txtEmailError"
                           Text="{Binding Tag, ElementName=txtEmail}"
                           Foreground="Red"
                           FontSize="15"
                           Margin="0,-20,0,5"
                           Visibility="{Binding Tag, ElementName=txtEmail, Converter={StaticResource TagToVisibilityConverter}}"/>

                <!-- Password -->
                <TextBlock Text="Password" FontSize="15" Margin="0,0,0,5"/>
                <Grid Height="45" Width="400" Margin="0,0,0,30">
                    <Border x:Name="passwordBorder" CornerRadius="8"
                            BorderBrush="Gray"
                            BorderThickness="1"
                            Background="White"/>

                    <PasswordBox x:Name="txtPassword"
                                 FontSize="15"
                                 VerticalContentAlignment="Center"
                                 Padding="15,0,40,0"
                                 Background="Transparent"
                                 BorderThickness="0"
                                 PasswordChanged="TxtPassword_PasswordChanged"/>

                    <TextBox x:Name="txtPasswordPlain"
                             FontSize="15"
                             VerticalContentAlignment="Center"
                             HorizontalContentAlignment="Left"
                             Padding="15,0,40,0"
                             Background="Transparent"
                             BorderThickness="0"
                             Visibility="Collapsed"/>

                    <!-- Toggle Password Button -->
                    <Button x:Name="btnTogglePassword"
                            Content="🙈"
                            Width="25"
                            Height="25"
                            FontSize="18"
                            HorizontalAlignment="Right"
                            Margin="0,0,10,0"
                            Foreground="Black"
                            Cursor="Hand"
                            Click="BtnTogglePassword_Click"
                            Focusable="False"
                            Background="Transparent"
                            BorderThickness="0">
                        <Button.Template>
                            <ControlTemplate TargetType="Button">
                                <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                            </ControlTemplate>
                        </Button.Template>
                    </Button>
                </Grid>
                <TextBlock x:Name="txtPasswordError"
                           Text="{Binding Tag, ElementName=txtPassword}"
                           Foreground="Red"
                           FontSize="15"
                           Margin="0,-30,0,5"
                           Visibility="{Binding Tag, ElementName=txtPassword, Converter={StaticResource TagToVisibilityConverter}}"/>

                <!-- SignIn Button -->
                <Button x:Name="btnSignIn"
                        Content="Sign In"
                        FontSize="18"
                        FontWeight="Bold"
                        Height="50"
                        Width="400"
                        Cursor="Hand"
                        Margin="0,0,0,20"
                        BorderThickness="0"
                        Click="btnSignIn_Click">
                    <Button.Style>
                        <Style TargetType="Button">
                            <Setter Property="Background" Value="#126DFF"/>
                            <Setter Property="Foreground" Value="White"/>
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="Button">
                                        <Border x:Name="border" Background="{TemplateBinding Background}" CornerRadius="8" BorderThickness="0">
                                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                        </Border>
                                        <ControlTemplate.Triggers>
                                            <Trigger Property="IsMouseOver" Value="True">
                                                <Setter TargetName="border" Property="Background" Value="#0033BB"/>
                                            </Trigger>
                                        </ControlTemplate.Triggers>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                        </Style>
                    </Button.Style>
                </Button>

                <!-- Register -->
                <TextBlock Text="Don't have an account? Sign Up"
                           Foreground="Gray"
                           FontSize="15"
                           HorizontalAlignment="Center"
                           Cursor="Hand"
                           MouseLeftButtonUp="TextBlock_MouseLeftButtonUp"/>
            </StackPanel>
        </Border>
    </Grid>
</Window>
